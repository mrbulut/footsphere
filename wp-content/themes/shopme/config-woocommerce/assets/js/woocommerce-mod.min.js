!function(l,m){l.shopme_woocommerce_mod=l.shopme_woocommerce_mod||{},l.shopme_core_helpers=l.shopme_core_helpers||{},l.shopme_core_helpers.owlInOwl=function(e){void 0===e&&(e=this.$element);var o=l(".flex-control-nav",e);o.length&&(o.owlCarousel({responsive:{0:{items:3},480:{items:3},992:{items:3}},margin:10,themeClass:"thumbnails_carousel",nav:!0,navText:[],rtl:!!m.ISRTL}),o.off("change.owl.carousel"))},l.shopme_woocommerce_mod.other_products=function(){if(l(".other_products").length){var e=l(".other_products"),o=l(".products",e),t=e.data("columns")||3,a="no_sidebar"==e.data("sidebar")?3:2;o.owlCarousel({responsive:{0:{items:1},487:{items:a},992:{items:t}},nav:!0,navText:[],rtl:!!m.ISRTL})}},l.shopme_woocommerce_mod.products_page_carousel=function(){if(l(".products_page_carousel").length){var e=l(".products_page_carousel");1<e.children().length&&e.each(function(){var e=l(this);1<e.children().length&&e.owlCarousel({items:1,autoHeight:!0,loop:!0,nav:!0,navText:[],themeClass:"single_visible_element",rtl:!!m.ISRTL,onInitialized:l.shopme_core_helpers.owlInOwl}).off("change.owl.carousel")})}},l.shopme_woocommerce_mod.cart_dropdown=function(){({init:function(){var e=this;e.support={touch:Modernizr.touch,transitions:Modernizr.csstransitions},e.eventtype=e.support.touch?"touchstart":"click",e.listeners()},listeners:function(){var e=this;e.track_ajax_refresh_cart(e),e.track_ajax_adding_to_cart(),e.track_ajax_added_to_cart(e),e.scrollbar_cart(),e.eventQty()},track_ajax_refresh:function(){l.post(woocommerce_params.ajax_url,{action:"shopme_mode_theme_update_mini_cart"},function(e){l(".widget_shopping_cart_content").html(e)})},track_ajax_refresh_cart:function(o){l.ajax({type:"POST",dataType:"json",url:shopme_global.ajaxurl,data:{action:"refresh_cart_fragment"},success:function(e){o.update_cart_fragment(e.fragments),l("body").trigger("wc_fragments_loaded")}}),l("body").on("wc_fragments_refreshed wc_fragments_loaded",function(e){o.ajax_remove_cart_item(o),l.shopme_dropdown_list.update("#header .dropdown-list",{speed:10})})},track_ajax_adding_to_cart:function(){l("body").on("adding_to_cart",function(e,o,t){e.preventDefault(),o.block({message:null,overlayCSS:{background:"#fff url("+shopme_global.ajax_loader_url+") no-repeat center",backgroundSize:"16px 16px",opacity:.6}})})},track_ajax_added_to_cart:function(r){l("body").on("added_to_cart",function(e,o,t,a){a.unblock().hide(),r.update_count_and_subtotal(o),r.update_cart_dropdown.call(r,e),l.shopme_dropdown_list.update("#header .dropdown-list",{speed:10})})},update_count_and_subtotal:function(e){l(".open_button").attr("data-amount",e.count).children("b.total_price").html(e.subtotal)},update_cart_dropdown:function(e){this.ajax_remove_cart_item(this)},update_cart_fragment:function(e){e&&l.each(e,function(e,o){l(e).replaceWith(o)})},ajax_remove_cart_item:function(a){l(".shopping_cart .remove-product, .sc_product .remove-product").on(a.eventtype,function(e){e.preventDefault();var t=l(this),o=t.data("cart_id");t.data("product_id");l.ajax({type:"POST",dataType:"json",url:shopme_global.ajaxurl,data:{action:"cart_item_remove",_wpnonce:woocommerce_mod.nonce_cart_item_remove,cart_id:o},success:function(e){var o=e.fragments;o&&t.parent().animate({opacity:0},function(){var e=l(this);e.add(e.parent()).slideUp(350,function(){e.remove(),a.update_count_and_subtotal(o),a.update_cart_fragment(o),l("body").trigger("wc_fragments_refreshed")})})}})})},scrollbar_cart:function(){l(".shopping_cart.dropdown").length&&l(".shopping_cart.dropdown").scrollbar()},eventQty:function(){l(document).on("click",".plus, .minus",function(){var e=l(this).closest(".qty").find(".input-text"),o=parseFloat(e.val()),t=parseFloat(e.attr("max")),a=parseFloat(e.attr("min")),r=e.attr("step");o&&""!==o&&"NaN"!==o||(o=0),""!==t&&"NaN"!==t||(t=""),""!==a&&"NaN"!==a||(a=0),"any"!==r&&""!==r&&void 0!==r&&"NaN"!==parseFloat(r)||(r=1),l(this).is(".plus")?t&&(t==o||t<o)?e.val(t):e.val(o+parseFloat(r)):a&&(a==o||o<a)?e.val(a):0<o&&e.val(o-parseFloat(r)),e.trigger("change")})}}).init()},l.shopme_woocommerce_mod.set_custom_scroll_bar=function(){var e=l(".custom-scrollbar");e.length&&e.is(":visible")&&e.scrollbar()},l.shopme_woocommerce_mod.zoom=function(){if(l(".single_product.images").length){if(l.shopme_woocommerce_mod.getGalleryList=function(){var o=[];return l(".product_preview a").each(function(){var e="";l(this).data("zoom-image")?e=l(this).data("zoom-image"):l(this).data("image")&&(e=l(this).data("image")),e&&o.push({href:""+e,title:l(this).find("img").attr("title")})}),o},l(".image_preview_container").length)l(".image_preview_container").each(function(){var e=l(this),o=e.data("id");l("#img_zoom",e).length&&l("#img_zoom",e).elevateZoom({zoomType:"inner",gallery:"thumbnails_"+o,galleryActiveClass:"active",cursor:"crosshair",responsive:!0,easing:!0,zoomWindowFadeIn:500,zoomWindowFadeOut:500,lensFadeIn:500,lensFadeOut:500})});l(".open_qv").length&&l(".open_qv").on("click",function(e){e.preventDefault();var o,a=[];l("#img_zoom").length?o=l(this).next().children("img").data("elevateZoom").getGalleryList():o=l.shopme_woocommerce_mod.getGalleryList();if(l.each(o,function(e,o){var t={};t.src=o.href,t.type="image",a.push(t)}),0==a.length){var t={};t.src=l(this).attr("href"),t.type="image",a.push(t)}l.magnificPopup.open({items:a,type:"image",mainClass:"mfp-fade-in",removalDelay:300,closeBtnInside:!0,closeOnContentClick:!0,midClick:!0,fixedContentPos:!1,gallery:{tCounter:"%curr% / %total%",enabled:!0,preload:[1,1]},callbacks:{open:function(){var e=this;l.magnificPopup.instance.next=function(){e.wrap.removeClass("mfp-image-loaded"),setTimeout(function(){l.magnificPopup.proto.next.call(e)},80)},l.magnificPopup.instance.prev=function(){e.wrap.removeClass("mfp-image-loaded"),setTimeout(function(){l.magnificPopup.proto.prev.call(e)},80)}},imageLoadComplete:function(){var e=this;setTimeout(function(){e.wrap.addClass("mfp-image-loaded")},15)}}})})}},l.shopme_woocommerce_mod.specials_carousel=function(){var e=l(".widget-specials-carousel");e.length&&e.each(function(){var e=l(this),o=l("div.products",e),t=o.children().length,a={responsive:{0:{items:1},480:{items:2},768:{items:1},992:{items:1}},autoHeight:!0,autoplay:!!e.data("autoplay"),autoplayTimeout:e.data("autoplaytimeout")?e.data("autoplaytimeout"):5e3,autoplayHoverPause:!0,loop:!0,nav:!0,navText:[],themeClass:"single_visible_element",rtl:!!m.ISRTL};1<t&&($owl=o.owlCarousel(a),$owl.off("change.owl.carousel"))})},l.shopme_woocommerce_mod.product_filter_styles=function(){var e=l(".products-container.view-grid").not(".widget-specials-carousel");e.length&&e.each(function(){var o=l(this),e=l("div.products",o),t=e.children().length,a=o.data("columns")||3,r="no_sidebar"==o.data("sidebar")?3:2;if(o.hasClass("owl_carousel")){if(1<t){e.on("initialized.owl.carousel resized.owl.carousel",l.shopme_core_helpers.sameheight).on("initialized.owl.carousel translated.owl.carousel",l.shopme_core_helpers.owlGetVisibleElements);var i={responsive:{0:{items:1},480:{items:r},992:{items:a}},nav:!0,navText:[],rtl:!!m.ISRTL,onInitialized:function(){var r=this.$element,i={},e=l(".product-filter",o);l.each(this._items,function(e,o){i[e]=o.children()}),e.on("click","li",function(e){var o=l(this),a=o.children().data("filter");e.preventDefault(),o.is(".active")||(r.addClass("changed").animate({opacity:0},200,function(){var t="";"*"==a?l.each(i,function(e,o){t+=o.parent().html()}):l.each(i,function(e,o){l(o).hasClass(a)&&(t+=o.parent().html())}),""!=t.length&&r.on("initialized.owl.carousel resized.owl.carousel refresh.owl.carousel",l.shopme_core_helpers.sameheight).on("initialized.owl.carousel translated.owl.carousel refresh.owl.carousel",l.shopme_core_helpers.owlGetVisibleElements).trigger("replace.owl.carousel",t).trigger("refresh.owl.carousel").removeClass("changed").animate({opacity:1},200)}),o.closest("li").addClass("active").siblings().removeClass("active"))})}};e.owlCarousel(i)}}else{var n=e,c={},s=l(".product-filter",o);l.each(n.children(),function(e,o){c[e]=l(o)}),s.on("click","li",function(){var e=l(this),i=e.children().data("filter");e.is(".active")||(n.addClass("changed").animate({opacity:0},200,function(){var r="";"*"==i?l.each(c,function(e,o){var t=l(o).wrap("<div></div>");r+=t.parent().html()}):l.each(c,function(e,o){var t=l(o);if(t.hasClass(i)){var a=t.wrap("<div></div>");r+=a.parent().html()}}),""!=r.length&&n.html(r).removeClass("changed").animate({opacity:1},200)}),e.closest("li").addClass("active").siblings().removeClass("active"))})}})},l.shopme_woocommerce_mod.product_cards=function(){var e=l(".product-cards-carousel.view-grid");e.length&&e.each(function(){var e=l(this),o=l("div.products-wrap",e);e.hasClass("owl_carousel")&&(o.on("initialized.owl.carousel resized.owl.carousel",l.shopme_core_helpers.sameheight).on("initialized.owl.carousel translated.owl.carousel",l.shopme_core_helpers.owlGetVisibleElements),o.owlCarousel({responsive:{0:{items:1},480:{items:1},992:{items:1}},nav:!0,navText:[],rtl:!!m.ISRTL,onInitialized:function(){}}))})},l.shopme_woocommerce_mod.tabbed=function(){l('[class*="tabs-holder"]').length&&l('[class*="tabs-holder"]').each(function(e,o){var t=l('[class*="tabs-nav"]',o),a=Modernizr.touch?"touchstart":"click";t.on(a,"a",function(e){e.preventDefault();var o=l(this).parent("li"),t=o.index();o.hasClass("active")&&e.preventDefault(),o.siblings().removeClass("active").end().addClass("active").parent().next().children('[class*="tab-content"]').stop(!0,!0).hide().eq(t).stop(!0,!0).fadeIn(800)})})},l.shopme_woocommerce_mod.related_carousel=function(){if(l(".related_products").length){var e=l(".related_products"),o=l(".products",e),t=e.data("columns")||4,a="no_sidebar"==e.data("sidebar")?3:2;o.owlCarousel({responsive:{0:{items:1},480:{items:a},992:{items:t}},nav:!0,navText:[],rtl:!!m.ISRTL})}},l.shopme_woocommerce_mod.thumbs_carousel=function(){l(".flex-control-nav").length&&l(".flex-control-nav").owlCarousel({responsive:{0:{items:2},480:{items:2},992:{items:3}},margin:10,themeClass:"thumbnails_carousel",nav:!0,navText:[],rtl:!!m.ISRTL}).off("change.owl.carousel")},l.changeView=function(e){this.options=l.extend({},l.changeView.DEFAULTS,e),this.init()},l.changeView.DEFAULTS={},l.changeView.prototype={init:function(){var e=this;e.body=l("body"),e.support={touch:Modernizr.touch},e.view=l(".list-or-grid"),e.view.eventtype=e.support.touch?"touchstart":"click",e.event()},event:function(){this.view.on(this.view.eventtype,"a",l.proxy(function(e){this.load(e)},this))},load:function(e){e.preventDefault();var o=l(e.currentTarget),t=o.data("view"),a=o.closest(".products-container");o.siblings().removeClass("active").end().addClass("active"),a.removeClass("view-grid list_view_products").addClass(t),l.cookie("mad_shop_view",t)}},l.shopme_woocommerce_mod.goto_review=function(){l(".woocommerce-review-link, .woocommerce-write-review-link").on("click",function(e){var o=l(this).attr("href"),t=l(this.hash);t.length&&("#reviews"!=o&&"#commentform"!=o||(e.preventDefault(),l(".tabs_nav li.reviews_tab a").trigger("click"),setTimeout(function(){l("html, body").stop().animate({scrollTop:t.offset().top},600)},50)))});var o=m.location.hash;"#commentform"!=o&&"#reviews"!=o&&-1==o.indexOf("#comment-")||setTimeout(function(){var e=l(o);e.length&&("#reviews"!=o&&"#commentform"!=o&&-1==o.indexOf("#comment-")||l(".tabs_nav li.reviews_tab a").trigger("click"),l("html, body").stop().animate({scrollTop:e.offset().top-l.shopme_core.stickyMenu.sticky_height-l.shopme_core.stickyMenu.adminbar_height-50},600))},200)},l.shopme_woocommerce_mod.product_preview=function(){var e=l(".product_preview[data-output]");e.length&&e.each(function(e,o){var t=l(o),a=l(t.data("output"));t.find("[data-image]:first").addClass("active"),t.on("click",".elzoom",function(e){e.preventDefault();var o=l(this);if(!o.hasClass("active")){o.parents(".thumbs_carousel").find("a").removeClass("active"),o.addClass("active");var t=l(this).data("image");a.length&&a.children("img").stop().animate({opacity:0},250,function(){l(this).attr("src",t).stop().animate({opacity:1})})}})})},l.shopme_woocommerce_mod.check_cart_variation=function(){if("undefined"==typeof wc_add_to_cart_variation_params)return!1;l(".variations_form").wc_variation_form(),l(".variations_form .variations select").change()},l.shopme_woocommerce_mod.quick_view=function(){l(".quick-view").length&&new l.shopme_popup_prepare(".quick-view",{actionpopup:woocommerce_mod.action_quick_view,noncepopup:woocommerce_mod.nonce_quick_view_popup,on_load:function(){l(".woocommerce-product-gallery").length&&l(".woocommerce-product-gallery").each(function(){l(this).wc_product_gallery()}),l.shopme_woocommerce_mod.check_cart_variation(),l.shopme_woocommerce_mod.thumbs_carousel(),l.shopme_woocommerce_mod.product_preview(),l.shopme_woocommerce_mod.set_custom_scroll_bar()}})},l.shopme_woocommerce_mod.form_login=function(){l(".to-login").length&&new l.shopme_popup_prepare(".to-login",{actionpopup:woocommerce_mod.action_login,noncepopup:woocommerce_mod.nonce_login_popup,on_load:function(){var e=this,o=l(e.el).data().href;l("form.login").ajaxForm({url:o,success:function(){e.closeModal(),m.location.href=o}})}})},l.shopme_woocommerce_mod.dokan_toggle_category=function(){var e=l(".dokan-category-menu");e.length&&(e.find("li").each(function(e,o){l(o).children(".sub-category").length&&l(o).not(".active").children(".sub-category").hide()}),e.on("click",".caret",function(e){e.preventDefault();var o=l(e.target).parent("a").parent("li");o.children(".sub-category").length&&o.toggleClass("active").children(".sub-category").slideToggle(700,"easeInOutQuart")}))},l(m).load(function(){l.shopme_core_helpers.owlInOwl(".single_product.images"),l.shopme_woocommerce_mod.product_filter_styles(),l.shopme_woocommerce_mod.product_cards(),l.shopme_woocommerce_mod.products_page_carousel(),l.shopme_woocommerce_mod.related_carousel(),l.shopme_woocommerce_mod.other_products(),l.shopme_woocommerce_mod.specials_carousel()}),l(function(){l.shopme_woocommerce_mod.cart_dropdown(),l.shopme_woocommerce_mod.quick_view(),l.shopme_woocommerce_mod.zoom(),l.shopme_woocommerce_mod.tabbed(),l(".list-or-grid").length&&new l.changeView,l.shopme_woocommerce_mod.product_preview(),l.shopme_woocommerce_mod.goto_review(),l.shopme_woocommerce_mod.dokan_toggle_category()})}(jQuery,window);